
-- =============================================
-- This stored procedure is generated by BuildProject
-- Author:	ThangNM
-- Create date:	16/03/2014 16:44
-- Description:	
-- Revise History:	
-- =============================================
CREATE PROCEDURE tblSinhVien_Update
		@FK_sMaLop	varchar(50)
		,@PK_sMaSV	varchar(50)
		,@sHotenSV	nvarchar(100)
		,@sTendangnhapSV	varchar(50)
		,@sMatkhauSV	varchar(50)
		,@sEmailSV	varchar(50)
		,@sDiachiSV	nvarchar(100)
		,@sSdtSV	varchar(13)
		,@tNgaysinhSV	datetime
		,@bGioitinhSV	bit
		,@sCMNDSV	varchar(9)
		,@tNgayCapCMNDSV	datetime
		,@sNoiCapCMNDSV	nvarchar(100)
		,@bHonNhanSV	bit
		,@sNguoiLienHeSV	nvarchar(100)
		,@sDiaChiNguoiLienHeSV	nvarchar(100)
		,@sSdtNguoiLienHeSV	varchar(13)
		,@iQuanHeVoiNguoiLienHeSV	smallint
		,@bKetnapDoanSV	bit
		,@iNamketnapDoanSV	smallint
		,@sNoiketnapDoanSV	nvarchar(100)
		,@iNamtotnghiepTHPTSV	smallint
		,@tNgayNhapHocSV	datetime
		,@tNgayRaTruongSV	datetime
		,@tNgayCapTheSV	datetime
		,@iTrangThaiSV	smallint
AS
BEGIN
	SET NOCOUNT ON;
		
	UPDATE [tblSinhVien]	SET
		 [FK_sMaLop] 	= @FK_sMaLop
		,[sHotenSV] 	= @sHotenSV
		,[sTendangnhapSV] 	= @sTendangnhapSV
		,[sMatkhauSV] 	= @sMatkhauSV
		,[sEmailSV] 	= @sEmailSV
		,[sDiachiSV] 	= @sDiachiSV
		,[sSdtSV] 	= @sSdtSV
		,[tNgaysinhSV] 	= @tNgaysinhSV
		,[bGioitinhSV] 	= @bGioitinhSV
		,[sCMNDSV] 	= @sCMNDSV
		,[tNgayCapCMNDSV] 	= @tNgayCapCMNDSV
		,[sNoiCapCMNDSV] 	= @sNoiCapCMNDSV
		,[bHonNhanSV] 	= @bHonNhanSV
		,[sNguoiLienHeSV] 	= @sNguoiLienHeSV
		,[sDiaChiNguoiLienHeSV] 	= @sDiaChiNguoiLienHeSV
		,[sSdtNguoiLienHeSV] 	= @sSdtNguoiLienHeSV
		,[iQuanHeVoiNguoiLienHeSV] 	= @iQuanHeVoiNguoiLienHeSV
		,[bKetnapDoanSV] 	= @bKetnapDoanSV
		,[iNamketnapDoanSV] 	= @iNamketnapDoanSV
		,[sNoiketnapDoanSV] 	= @sNoiketnapDoanSV
		,[iNamtotnghiepTHPTSV] 	= @iNamtotnghiepTHPTSV
		,[tNgayNhapHocSV] 	= @tNgayNhapHocSV
		,[tNgayRaTruongSV] 	= @tNgayRaTruongSV
		,[tNgayCapTheSV] 	= @tNgayCapTheSV
		,[iTrangThaiSV] 	= @iTrangThaiSV
	WHERE 
		[PK_sMaSV] 	= @PK_sMaSV
		
END

GO

-- =============================================
-- This stored procedure is generated by BuildProject 
-- Author:	ThangNM
-- Create date:	16/03/2014 16:44
-- Description:	
-- Revise History:	
-- =============================================
CREATE PROCEDURE tblSinhVien_Delete
		@PK_sMaSV	varchar(50)
AS
BEGIN
	SET NOCOUNT ON;
		
	Delete [tblSinhVien]
	Where
		[PK_sMaSV] 	= @PK_sMaSV
		
END

GO

-- =============================================
-- This stored procedure is generated by BuildProject
-- Author:	ThangNM
-- Create date:	16/03/2014 16:44
-- Description:	
-- Revise History:	
-- =============================================
CREATE PROCEDURE tblSinhVien_Insert
			@FK_sMaLop	varchar(50)
			,@PK_sMaSV	varchar(50)
			,@sHotenSV	nvarchar(100)
			,@sTendangnhapSV	varchar(50)
			,@sMatkhauSV	varchar(50)
			,@sEmailSV	varchar(50)
			,@sDiachiSV	nvarchar(100)
			,@sSdtSV	varchar(13)
			,@tNgaysinhSV	datetime
			,@bGioitinhSV	bit
			,@sCMNDSV	varchar(9)
			,@tNgayCapCMNDSV	datetime
			,@sNoiCapCMNDSV	nvarchar(100)
			,@bHonNhanSV	bit
			,@sNguoiLienHeSV	nvarchar(100)
			,@sDiaChiNguoiLienHeSV	nvarchar(100)
			,@sSdtNguoiLienHeSV	varchar(13)
			,@iQuanHeVoiNguoiLienHeSV	smallint
			,@bKetnapDoanSV	bit
			,@iNamketnapDoanSV	smallint
			,@sNoiketnapDoanSV	nvarchar(100)
			,@iNamtotnghiepTHPTSV	smallint
			,@tNgayNhapHocSV	datetime
			,@tNgayRaTruongSV	datetime
			,@tNgayCapTheSV	datetime
			,@iTrangThaiSV	smallint
AS
BEGIN
	SET NOCOUNT ON;
		
	Insert Into [tblSinhVien]( [FK_sMaLop]
				,[PK_sMaSV]
				,[sHotenSV]
				,[sTendangnhapSV]
				,[sMatkhauSV]
				,[sEmailSV]
				,[sDiachiSV]
				,[sSdtSV]
				,[tNgaysinhSV]
				,[bGioitinhSV]
				,[sCMNDSV]
				,[tNgayCapCMNDSV]
				,[sNoiCapCMNDSV]
				,[bHonNhanSV]
				,[sNguoiLienHeSV]
				,[sDiaChiNguoiLienHeSV]
				,[sSdtNguoiLienHeSV]
				,[iQuanHeVoiNguoiLienHeSV]
				,[bKetnapDoanSV]
				,[iNamketnapDoanSV]
				,[sNoiketnapDoanSV]
				,[iNamtotnghiepTHPTSV]
				,[tNgayNhapHocSV]
				,[tNgayRaTruongSV]
				,[tNgayCapTheSV]
				,[iTrangThaiSV]
				)
		
	Values	( @FK_sMaLop
				,@PK_sMaSV
				,@sHotenSV
				,@sTendangnhapSV
				,@sMatkhauSV
				,@sEmailSV
				,@sDiachiSV
				,@sSdtSV
				,@tNgaysinhSV
				,@bGioitinhSV
				,@sCMNDSV
				,@tNgayCapCMNDSV
				,@sNoiCapCMNDSV
				,@bHonNhanSV
				,@sNguoiLienHeSV
				,@sDiaChiNguoiLienHeSV
				,@sSdtNguoiLienHeSV
				,@iQuanHeVoiNguoiLienHeSV
				,@bKetnapDoanSV
				,@iNamketnapDoanSV
				,@sNoiketnapDoanSV
				,@iNamtotnghiepTHPTSV
				,@tNgayNhapHocSV
				,@tNgayRaTruongSV
				,@tNgayCapTheSV
				,@iTrangThaiSV
				)

END

GO

-- =============================================
-- This stored procedure is generated by BuildProject
-- Author:	ThangNM
-- Create date:	16/03/2014 16:44
-- Description:	
-- Revise History:	
-- =============================================
CREATE PROCEDURE tblSinhVien_SelectItem
		@PK_sMaSV	varchar(50)
AS
BEGIN
	SET NOCOUNT ON;
		
	Select 		[FK_sMaLop]
				, [PK_sMaSV]
				, [sHotenSV]
				, [sTendangnhapSV]
				, [sMatkhauSV]
				, [sEmailSV]
				, [sDiachiSV]
				, [sSdtSV]
				, [tNgaysinhSV]
				, [bGioitinhSV]
				, [sCMNDSV]
				, [tNgayCapCMNDSV]
				, [sNoiCapCMNDSV]
				, [bHonNhanSV]
				, [sNguoiLienHeSV]
				, [sDiaChiNguoiLienHeSV]
				, [sSdtNguoiLienHeSV]
				, [iQuanHeVoiNguoiLienHeSV]
				, [bKetnapDoanSV]
				, [iNamketnapDoanSV]
				, [sNoiketnapDoanSV]
				, [iNamtotnghiepTHPTSV]
				, [tNgayNhapHocSV]
				, [tNgayRaTruongSV]
				, [tNgayCapTheSV]
				, [iTrangThaiSV]
	From	[tblSinhVien]
	Where
		[PK_sMaSV] 	= @PK_sMaSV
		
END

GO

-- =============================================
-- This stored procedure is generated by BuildProject
-- Author:	ThangNM
-- Create date:	16/03/2014 16:44
-- Description:	
-- Revise History:	
-- =============================================
CREATE PROCEDURE tblSinhVien_SelectList
AS
BEGIN
	SET NOCOUNT ON;
		
	Select 		[FK_sMaLop]
				, [PK_sMaSV]
				, [sHotenSV]
				, [sTendangnhapSV]
				, [sMatkhauSV]
				, [sEmailSV]
				, [sDiachiSV]
				, [sSdtSV]
				, [tNgaysinhSV]
				, [bGioitinhSV]
				, [sCMNDSV]
				, [tNgayCapCMNDSV]
				, [sNoiCapCMNDSV]
				, [bHonNhanSV]
				, [sNguoiLienHeSV]
				, [sDiaChiNguoiLienHeSV]
				, [sSdtNguoiLienHeSV]
				, [iQuanHeVoiNguoiLienHeSV]
				, [bKetnapDoanSV]
				, [iNamketnapDoanSV]
				, [sNoiketnapDoanSV]
				, [iNamtotnghiepTHPTSV]
				, [tNgayNhapHocSV]
				, [tNgayRaTruongSV]
				, [tNgayCapTheSV]
				, [iTrangThaiSV]
	From	[tblSinhVien]
	Order by [PK_sMaSV]
		
END

GO

-- =============================================
-- This stored procedure is generated by BuildProject
-- Author:	ThangNM
-- Create date:	16/03/2014 16:44
-- Description:	
-- Revise History:	
-- =============================================
CREATE PROCEDURE tblSinhVien_Search
			@FK_sMaLop	varchar(50)
			,@PK_sMaSV	varchar(50)
			,@sHotenSV	nvarchar(100)
			,@sTendangnhapSV	varchar(50)
			,@sMatkhauSV	varchar(50)
			,@sEmailSV	varchar(50)
			,@sDiachiSV	nvarchar(100)
			,@sSdtSV	varchar(13)
			,@tNgaysinhSV	datetime
			,@bGioitinhSV	bit
			,@sCMNDSV	varchar(9)
			,@tNgayCapCMNDSV	datetime
			,@sNoiCapCMNDSV	nvarchar(100)
			,@bHonNhanSV	bit
			,@sNguoiLienHeSV	nvarchar(100)
			,@sDiaChiNguoiLienHeSV	nvarchar(100)
			,@sSdtNguoiLienHeSV	varchar(13)
			,@iQuanHeVoiNguoiLienHeSV	smallint
			,@bKetnapDoanSV	bit
			,@iNamketnapDoanSV	smallint
			,@sNoiketnapDoanSV	nvarchar(100)
			,@iNamtotnghiepTHPTSV	smallint
			,@tNgayNhapHocSV	datetime
			,@tNgayRaTruongSV	datetime
			,@tNgayCapTheSV	datetime
			,@iTrangThaiSV	smallint
AS
BEGIN
	SET NOCOUNT ON;
		
	Select 		[FK_sMaLop]
				, [PK_sMaSV]
				, [sHotenSV]
				, [sTendangnhapSV]
				, [sMatkhauSV]
				, [sEmailSV]
				, [sDiachiSV]
				, [sSdtSV]
				, [tNgaysinhSV]
				, [bGioitinhSV]
				, [sCMNDSV]
				, [tNgayCapCMNDSV]
				, [sNoiCapCMNDSV]
				, [bHonNhanSV]
				, [sNguoiLienHeSV]
				, [sDiaChiNguoiLienHeSV]
				, [sSdtNguoiLienHeSV]
				, [iQuanHeVoiNguoiLienHeSV]
				, [bKetnapDoanSV]
				, [iNamketnapDoanSV]
				, [sNoiketnapDoanSV]
				, [iNamtotnghiepTHPTSV]
				, [tNgayNhapHocSV]
				, [tNgayRaTruongSV]
				, [tNgayCapTheSV]
				, [iTrangThaiSV]
	From	[tblSinhVien]
	Where
		(@FK_sMaLop is null or [FK_sMaLop] 	like '%' + @FK_sMaLop+ '%')
		AND (@PK_sMaSV is null or [PK_sMaSV] 	like '%' + @PK_sMaSV+ '%')
		AND (@sHotenSV is null or [sHotenSV] 	like '%' + @sHotenSV+ '%')
		AND (@sTendangnhapSV is null or [sTendangnhapSV] 	like '%' + @sTendangnhapSV+ '%')
		AND (@sMatkhauSV is null or [sMatkhauSV] 	like '%' + @sMatkhauSV+ '%')
		AND (@sEmailSV is null or [sEmailSV] 	like '%' + @sEmailSV+ '%')
		AND (@sDiachiSV is null or [sDiachiSV] 	like '%' + @sDiachiSV+ '%')
		AND (@sSdtSV is null or [sSdtSV] 	like '%' + @sSdtSV+ '%')
		AND (@tNgaysinhSV is null or [tNgaysinhSV] 	= @tNgaysinhSV)
		AND (@bGioitinhSV is null or [bGioitinhSV] = @bGioitinhSV)
		AND (@sCMNDSV is null or [sCMNDSV] 	like '%' + @sCMNDSV+ '%')
		AND (@tNgayCapCMNDSV is null or [tNgayCapCMNDSV] 	= @tNgayCapCMNDSV)
		AND (@sNoiCapCMNDSV is null or [sNoiCapCMNDSV] 	like '%' + @sNoiCapCMNDSV+ '%')
		AND (@bHonNhanSV is null or [bHonNhanSV] = @bHonNhanSV)
		AND (@sNguoiLienHeSV is null or [sNguoiLienHeSV] 	like '%' + @sNguoiLienHeSV+ '%')
		AND (@sDiaChiNguoiLienHeSV is null or [sDiaChiNguoiLienHeSV] 	like '%' + @sDiaChiNguoiLienHeSV+ '%')
		AND (@sSdtNguoiLienHeSV is null or [sSdtNguoiLienHeSV] 	like '%' + @sSdtNguoiLienHeSV+ '%')
		AND (@iQuanHeVoiNguoiLienHeSV is null or [iQuanHeVoiNguoiLienHeSV] 	like '%' + @iQuanHeVoiNguoiLienHeSV+ '%')
		AND (@bKetnapDoanSV is null or [bKetnapDoanSV] 	= @bKetnapDoanSV)
		AND (@iNamketnapDoanSV is null or [iNamketnapDoanSV] 	like '%' + @iNamketnapDoanSV+ '%')
		AND (@sNoiketnapDoanSV is null or [sNoiketnapDoanSV] 	like '%' + @sNoiketnapDoanSV+ '%')
		AND (@iNamtotnghiepTHPTSV is null or [iNamtotnghiepTHPTSV] 	like '%' + @iNamtotnghiepTHPTSV+ '%')
		AND (@tNgayNhapHocSV is null or [tNgayNhapHocSV] 	= @tNgayNhapHocSV)
		AND (@tNgayRaTruongSV is null or [tNgayRaTruongSV] 	= @tNgayRaTruongSV)
		AND (@tNgayCapTheSV is null or [tNgayCapTheSV] 	= @tNgayCapTheSV)
		AND (@iTrangThaiSV is null or [iTrangThaiSV] 	like '%' + @iTrangThaiSV+ '%')
		
END

GO

	
CREATE PROCEDURE tblSinhVien_SelectByFK_sMaLop
		@FK_sMaLop	varchar
AS
BEGIN
	SET NOCOUNT ON;

	Select 		[FK_sMaLop]
				, [PK_sMaSV]
				, [sHotenSV]
				, [sTendangnhapSV]
				, [sMatkhauSV]
				, [sEmailSV]
				, [sDiachiSV]
				, [sSdtSV]
				, [tNgaysinhSV]
				, [bGioitinhSV]
				, [sCMNDSV]
				, [tNgayCapCMNDSV]
				, [sNoiCapCMNDSV]
				, [bHonNhanSV]
				, [sNguoiLienHeSV]
				, [sDiaChiNguoiLienHeSV]
				, [sSdtNguoiLienHeSV]
				, [iQuanHeVoiNguoiLienHeSV]
				, [bKetnapDoanSV]
				, [iNamketnapDoanSV]
				, [sNoiketnapDoanSV]
				, [iNamtotnghiepTHPTSV]
				, [tNgayNhapHocSV]
				, [tNgayRaTruongSV]
				, [tNgayCapTheSV]
				, [iTrangThaiSV]
	From	[tblSinhVien]
	Where	FK_sMaLop	= @FK_sMaLop
END

GO
	